<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeQuest - Learn to Code Step by Step</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #fef6f9;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f0f4ff;
            --bg-card: #fff8fb;
            --accent-primary: #8b5cf6;
            --accent-secondary: #ec4899;
            --accent-tertiary: #06b6d4;
            --accent-success: #10b981;
            --accent-warning: #f59e0b;
            --accent-error: #f43f5e;
            --accent-info: #60a5fa;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --border-color: #e2e8f0;
            --shadow-sm: 0 2px 8px rgba(139, 92, 246, 0.08);
            --shadow-md: 0 4px 16px rgba(139, 92, 246, 0.12);
            --shadow-lg: 0 8px 32px rgba(139, 92, 246, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #fef6f9 0%, #f0f4ff 50%, #fef6f9 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .float-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.15;
            animation: float 20s infinite ease-in-out;
        }

        .float-shape:nth-child(1) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--accent-primary), transparent);
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .float-shape:nth-child(2) {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--accent-secondary), transparent);
            top: 50%;
            right: -150px;
            animation-delay: 5s;
        }

        .float-shape:nth-child(3) {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, var(--accent-tertiary), transparent);
            bottom: -100px;
            left: 30%;
            animation-delay: 10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(20px, -20px) scale(1.1); }
            50% { transform: translate(-20px, 20px) scale(0.9); }
            75% { transform: translate(20px, 20px) scale(1.05); }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 32px;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-md);
        }

        .logo {
            font-family: 'Quicksand', sans-serif;
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-stats {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 12px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .stat-icon {
            font-size: 20px;
        }

        .stat-value {
            font-weight: 700;
            color: var(--accent-primary);
            font-size: 18px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 600;
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            gap: 24px;
            min-height: calc(100vh - 200px);
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 28px;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-md);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .section-title {
            font-size: 13px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .category-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 28px;
        }

        .category-item {
            padding: 14px 18px;
            background: var(--bg-card);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-item:hover {
            background: var(--bg-tertiary);
            border-color: var(--accent-primary);
            transform: translateX(4px);
        }

        .category-item.active {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(236, 72, 153, 0.15));
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-sm);
        }

        .category-name {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 15px;
        }

        .category-progress {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 600;
            background: rgba(139, 92, 246, 0.1);
            padding: 4px 10px;
            border-radius: 8px;
        }

        .progress-bar-container {
            margin-top: 24px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 12px;
            border: 2px solid var(--border-color);
        }

        .progress-label {
            font-size: 13px;
            font-weight: 700;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(139, 92, 246, 0.1);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 20px;
            transition: width 0.6s ease;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            color: var(--accent-primary);
            margin-top: 8px;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Problem Card */
        .problem-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 32px;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-md);
        }

        .problem-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .problem-title-section {
            flex: 1;
        }

        .problem-number {
            font-size: 14px;
            color: var(--text-muted);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .problem-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 12px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .problem-meta {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .difficulty-badge {
            padding: 6px 16px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .difficulty-beginner {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
            color: var(--accent-success);
            border: 2px solid var(--accent-success);
        }

        .difficulty-easy {
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(59, 130, 246, 0.2));
            color: var(--accent-info);
            border: 2px solid var(--accent-info);
        }

        .difficulty-medium {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2));
            color: var(--accent-warning);
            border: 2px solid var(--accent-warning);
        }

        .difficulty-hard {
            background: linear-gradient(135deg, rgba(244, 63, 94, 0.2), rgba(225, 29, 72, 0.2));
            color: var(--accent-error);
            border: 2px solid var(--accent-error);
        }

        .problem-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            padding: 6px 12px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 600;
            border: 1px solid var(--border-color);
        }

        .hint-section {
            margin-top: 16px;
        }

        .hint-toggle {
            padding: 12px 20px;
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(59, 130, 246, 0.2));
            border: 2px solid var(--accent-info);
            border-radius: 12px;
            color: var(--accent-info);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .hint-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .hint-content {
            display: none;
            margin-top: 16px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(59, 130, 246, 0.1));
            border-left: 4px solid var(--accent-info);
            border-radius: 12px;
            animation: slideDown 0.3s ease;
        }

        .hint-content.show {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hint-title {
            font-weight: 700;
            color: var(--accent-info);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .hint-text {
            color: var(--text-secondary);
            line-height: 1.8;
            font-size: 14px;
        }

        .problem-description {
            line-height: 1.9;
            color: var(--text-secondary);
            margin-bottom: 24px;
            font-size: 15px;
        }

        .example-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(236, 72, 153, 0.05));
            border-left: 4px solid var(--accent-primary);
            padding: 20px;
            border-radius: 12px;
            margin: 16px 0;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            border: 2px solid var(--border-color);
        }

        .example-label {
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 4px;
        }

        .navigation-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .nav-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .nav-btn:hover:not(:disabled) {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        /* Editor Section */
        .editor-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        .editor-tabs {
            display: flex;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(236, 72, 153, 0.05));
            border-bottom: 2px solid var(--border-color);
            padding: 16px 16px 0 16px;
            gap: 10px;
            overflow-x: auto;
        }

        .editor-tab {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 12px 12px 0 0;
            font-weight: 700;
            font-size: 14px;
            transition: all 0.3s ease;
            white-space: nowrap;
            border: 2px solid transparent;
        }

        .editor-tab:hover {
            background: rgba(255, 255, 255, 0.8);
            color: var(--text-primary);
        }

        .editor-tab.active {
            background: var(--bg-secondary);
            color: var(--accent-primary);
            border-color: var(--border-color);
            border-bottom-color: var(--bg-secondary);
        }

        .tab-close {
            padding: 2px 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 16px;
        }

        .tab-close:hover {
            background: var(--accent-error);
            color: white;
        }

        .add-editor-btn {
            margin-left: auto;
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            font-size: 14px;
        }

        .add-editor-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }

        .editor-content {
            display: none;
        }

        .editor-content.active {
            display: block;
        }

        .code-editor {
            width: 100%;
            min-height: 400px;
            padding: 24px;
            background: #f8fafc;
            border: none;
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.8;
            resize: vertical;
        }

        .code-editor:focus {
            outline: 3px solid var(--accent-primary);
            outline-offset: -3px;
            background: white;
        }

        .editor-actions {
            display: flex;
            justify-content: space-between;
            padding: 20px 24px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(236, 72, 153, 0.05));
            border-top: 2px solid var(--border-color);
        }

        .action-btn {
            padding: 12px 28px;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-run {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-run:hover {
            background: var(--accent-info);
            color: white;
            border-color: var(--accent-info);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .btn-submit {
            background: linear-gradient(135deg, var(--accent-success), #059669);
            color: white;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            border: 2px solid transparent;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        /* Output Section */
        .output-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 24px;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-md);
            margin-top: 24px;
            display: none;
        }

        .output-section.show {
            display: block;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .output-header {
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 16px;
            color: var(--accent-primary);
        }

        .output-content {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Fira Code', monospace;
            font-size: 13px;
            line-height: 1.8;
            white-space: pre-wrap;
            border: 2px solid var(--border-color);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(139, 92, 246, 0.2);
            backdrop-filter: blur(8px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--bg-secondary);
            border-radius: 24px;
            padding: 36px;
            max-width: 600px;
            width: 90%;
            border: 2px solid var(--border-color);
            box-shadow: var(--shadow-lg);
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 24px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .language-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 14px;
            margin-bottom: 24px;
        }

        .lang-option {
            padding: 16px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(236, 72, 153, 0.05));
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 700;
            font-size: 14px;
        }

        .lang-option:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(236, 72, 153, 0.15));
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .lang-option.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .lang-option.disabled:hover {
            transform: none;
            box-shadow: none;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .btn-cancel {
            padding: 12px 28px;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-cancel:hover {
            background: var(--bg-primary);
            transform: translateY(-2px);
        }

        /* Success Animation */
        .success-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.95), rgba(5, 150, 105, 0.95));
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .success-overlay.show {
            display: flex;
        }

        .success-content {
            text-align: center;
            animation: bounceIn 0.6s ease;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0.3);
                opacity: 0;
            }
            50% {
                transform: scale(1.08);
            }
            70% {
                transform: scale(0.92);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .success-icon {
            font-size: 140px;
            margin-bottom: 24px;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        }

        .success-title {
            font-size: 56px;
            font-weight: 800;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .success-message {
            font-size: 24px;
            color: white;
            opacity: 0.95;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-layout {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: static;
            }

            .editor-tabs {
                flex-wrap: wrap;
            }

            .logo {
                font-size: 24px;
            }

            .problem-title {
                font-size: 22px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(139, 92, 246, 0.05);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent-secondary), var(--accent-primary));
        }
    </style>
</head>
<body>
    <div class="bg-decoration">
        <div class="float-shape"></div>
        <div class="float-shape"></div>
        <div class="float-shape"></div>
    </div>
    
    <div class="container">
        <header>
            <div class="logo">
                <span>‚ú®</span>
                CodeQuest
            </div>
            <div class="user-stats">
                <div class="stat-item">
                    <span class="stat-icon">üî•</span>
                    <div>
                        <div class="stat-value" id="streak">0</div>
                        <div class="stat-label">streak</div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚úì</span>
                    <div>
                        <div class="stat-value" id="solved">0</div>
                        <div class="stat-label">solved</div>
                    </div>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">‚≠ê</span>
                    <div>
                        <div class="stat-value" id="points">0</div>
                        <div class="stat-label">points</div>
                    </div>
                </div>
            </div>
        </header>

        <div class="main-layout">
            <aside class="sidebar">
                <div class="section-title">üìö Learning Path</div>
                <div class="category-list" id="categoryList"></div>

                <div class="progress-bar-container">
                    <div class="progress-label">Overall Progress</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progressText">0 / 0 Complete</div>
                </div>
            </aside>

            <main class="content-area">
                <div class="problem-card" id="problemCard"></div>

                <div class="editor-section">
                    <div class="editor-tabs" id="editorTabs"></div>
                    <div id="editorContents"></div>
                    <div class="editor-actions">
                        <button class="action-btn btn-run" onclick="runCode()">
                            <span>‚ñ∂</span> Run Code
                        </button>
                        <button class="action-btn btn-submit" onclick="submitCode()">
                            <span>‚úì</span> Submit Solution
                        </button>
                    </div>
                </div>

                <div class="output-section" id="outputSection">
                    <div class="output-header">üìä Output</div>
                    <div class="output-content" id="outputContent"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Add Language Modal -->
    <div class="modal" id="languageModal">
        <div class="modal-content">
            <div class="modal-title">Choose a Language</div>
            <div class="language-grid" id="languageGrid"></div>
            <div class="modal-actions">
                <button class="btn-cancel" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Success Overlay -->
    <div class="success-overlay" id="successOverlay">
        <div class="success-content">
            <div class="success-icon">üéâ</div>
            <div class="success-title">Perfect!</div>
            <div class="success-message">Solution Accepted</div>
        </div>
    </div>

    <script>
        // Language definitions with hints
        const LANGUAGES = {
            python: { 
                name: 'Python', 
                icon: 'üêç', 
                starter: '# Write your solution here\n\n'
            },
            javascript: { 
                name: 'JavaScript', 
                icon: 'üìú', 
                starter: '// Write your solution here\n\n'
            },
            typescript: { 
                name: 'TypeScript', 
                icon: 'üí†', 
                starter: '// Write your solution here\n\n'
            },
            java: { 
                name: 'Java', 
                icon: '‚òï', 
                starter: '// Write your solution here\npublic class Solution {\n    \n}\n'
            },
            cpp: { 
                name: 'C++', 
                icon: '‚öôÔ∏è', 
                starter: '// Write your solution here\n#include <iostream>\nusing namespace std;\n\n'
            },
            go: { 
                name: 'Go', 
                icon: 'üîµ', 
                starter: '// Write your solution here\npackage main\n\n'
            },
            rust: { 
                name: 'Rust', 
                icon: 'ü¶Ä', 
                starter: '// Write your solution here\n\n'
            },
            abap: { 
                name: 'ABAP', 
                icon: 'üî∂', 
                starter: '* Write your solution here\n\n'
            }
        };

        const CATEGORIES = [
            { id: 'basics', name: 'Step 1: First Steps', progress: '0/15', icon: 'üå±' },
            { id: 'variables', name: 'Step 2: Variables & Types', progress: '0/12', icon: 'üì¶' },
            { id: 'operators', name: 'Step 3: Operators', progress: '0/10', icon: '‚ûï' },
            { id: 'conditions', name: 'Step 4: Conditions', progress: '0/12', icon: 'üîÄ' },
            { id: 'loops', name: 'Step 5: Loops', progress: '0/15', icon: 'üîÑ' },
            { id: 'functions', name: 'Step 6: Functions', progress: '0/12', icon: '‚ö°' },
            { id: 'arrays', name: 'Step 7: Arrays & Lists', progress: '0/15', icon: 'üìã' },
            { id: 'strings', name: 'Step 8: Strings', progress: '0/12', icon: 'üìù' },
            { id: 'data-structures', name: 'Step 9: Data Structures', progress: '0/20', icon: 'üèóÔ∏è' },
            { id: 'algorithms', name: 'Step 10: Algorithms', progress: '0/25', icon: 'üßÆ' },
            { id: 'oop', name: 'Step 11: OOP Basics', progress: '0/18', icon: 'üé®' },
            { id: 'real-world', name: 'üè¢ Real-World Projects', progress: '0/30', icon: 'üíº' },
            { id: 'bigtech', name: 'üöÄ Big Tech Interviews', progress: '0/50', icon: 'üéØ' }
        ];

        // Expanded problem sets
        const PROBLEMS = {
            basics: [
                {
                    id: 1,
                    title: 'Print Hello World',
                    difficulty: 'beginner',
                    tags: ['Output', 'First Program'],
                    description: 'Write a program that prints "Hello, World!" to the console. This is the traditional first program for learning any programming language.',
                    examples: [
                        { input: 'None', output: 'Hello, World!' }
                    ],
                    hints: {
                        python: 'Use the print() function. Example: print("your message")',
                        javascript: 'Use console.log(). Example: console.log("your message")',
                        java: 'Use System.out.println(). Example: System.out.println("your message")',
                        cpp: 'Use cout. Example: cout << "your message" << endl;',
                        abap: 'Use WRITE statement. Example: WRITE: / \'your message\'.'
                    },
                    testCases: [
                        { input: '', expected: 'Hello, World!' }
                    ]
                },
                {
                    id: 2,
                    title: 'Print Your Name',
                    difficulty: 'beginner',
                    tags: ['Output', 'Variables'],
                    description: 'Create a variable with your name and print it. Learn how to store data in variables.',
                    examples: [
                        { input: 'name = "Alice"', output: 'Alice' }
                    ],
                    hints: {
                        python: 'Create a variable: name = "Your Name", then print(name)',
                        javascript: 'Create a variable: let name = "Your Name", then console.log(name)',
                        java: 'String name = "Your Name"; System.out.println(name);',
                        cpp: 'string name = "Your Name"; cout << name << endl;',
                        abap: 'DATA: lv_name TYPE string. lv_name = \'Your Name\'. WRITE: / lv_name.'
                    },
                    testCases: []
                },
                {
                    id: 3,
                    title: 'Add Two Numbers',
                    difficulty: 'beginner',
                    tags: ['Math', 'Operators'],
                    description: 'Write a program that adds two numbers together and prints the result.',
                    examples: [
                        { input: 'a = 5, b = 3', output: '8' },
                        { input: 'a = 10, b = 20', output: '30' }
                    ],
                    hints: {
                        python: 'Store numbers in variables, use + operator, print the result',
                        javascript: 'let sum = num1 + num2; console.log(sum);',
                        java: 'int sum = num1 + num2; System.out.println(sum);',
                        cpp: 'int sum = num1 + num2; cout << sum << endl;',
                        abap: 'DATA: lv_sum TYPE i. lv_sum = lv_num1 + lv_num2. WRITE: / lv_sum.'
                    },
                    testCases: [
                        { input: '5, 3', expected: '8' },
                        { input: '10, 20', expected: '30' }
                    ]
                },
                {
                    id: 4,
                    title: 'Calculate Rectangle Area',
                    difficulty: 'beginner',
                    tags: ['Math', 'Variables'],
                    description: 'Calculate the area of a rectangle given its width and height. Area = width √ó height',
                    examples: [
                        { input: 'width = 5, height = 3', output: '15' },
                        { input: 'width = 7, height = 4', output: '28' }
                    ],
                    hints: {
                        python: 'area = width * height. Use * for multiplication',
                        javascript: 'let area = width * height;',
                        java: 'int area = width * height;',
                        cpp: 'int area = width * height;',
                        abap: 'lv_area = lv_width * lv_height.'
                    },
                    testCases: [
                        { input: '5, 3', expected: '15' },
                        { input: '7, 4', expected: '28' }
                    ]
                },
                {
                    id: 5,
                    title: 'Swap Two Variables',
                    difficulty: 'beginner',
                    tags: ['Variables', 'Logic'],
                    description: 'Given two variables a and b, swap their values. After swapping, a should have b\'s value and b should have a\'s value.',
                    examples: [
                        { input: 'a = 5, b = 10', output: 'a = 10, b = 5' }
                    ],
                    hints: {
                        python: 'Use a temporary variable: temp = a, a = b, b = temp. Or use Python\'s tuple unpacking: a, b = b, a',
                        javascript: 'Use a temporary variable or destructuring: [a, b] = [b, a]',
                        java: 'int temp = a; a = b; b = temp;',
                        cpp: 'int temp = a; a = b; b = temp;',
                        abap: 'DATA: lv_temp TYPE i. lv_temp = lv_a. lv_a = lv_b. lv_b = lv_temp.'
                    },
                    testCases: []
                }
            ],
            variables: [
                {
                    id: 6,
                    title: 'Create Multiple Variables',
                    difficulty: 'beginner',
                    tags: ['Variables', 'Types'],
                    description: 'Create variables of different types: an integer, a decimal number, a string, and a boolean.',
                    examples: [
                        { input: '', output: 'age = 25, price = 19.99, name = "Alice", is_student = True' }
                    ],
                    hints: {
                        python: 'age = 25, price = 19.99, name = "Alice", is_student = True',
                        javascript: 'let age = 25; let price = 19.99; let name = "Alice"; let isStudent = true;',
                        java: 'int age = 25; double price = 19.99; String name = "Alice"; boolean isStudent = true;',
                        cpp: 'int age = 25; double price = 19.99; string name = "Alice"; bool isStudent = true;',
                        abap: 'DATA: lv_age TYPE i, lv_price TYPE p DECIMALS 2, lv_name TYPE string, lv_student TYPE abap_bool.'
                    },
                    testCases: []
                },
                {
                    id: 7,
                    title: 'Convert Temperature',
                    difficulty: 'beginner',
                    tags: ['Math', 'Variables'],
                    description: 'Convert temperature from Celsius to Fahrenheit. Formula: F = C √ó 9/5 + 32',
                    examples: [
                        { input: 'celsius = 0', output: '32.0' },
                        { input: 'celsius = 100', output: '212.0' }
                    ],
                    hints: {
                        python: 'fahrenheit = celsius * 9/5 + 32',
                        javascript: 'let fahrenheit = celsius * 9/5 + 32;',
                        java: 'double fahrenheit = celsius * 9.0/5.0 + 32;',
                        cpp: 'double fahrenheit = celsius * 9.0/5.0 + 32;',
                        abap: 'lv_fahrenheit = lv_celsius * 9 / 5 + 32.'
                    },
                    testCases: [
                        { input: '0', expected: '32.0' },
                        { input: '100', expected: '212.0' }
                    ]
                }
            ],
            conditions: [
                {
                    id: 20,
                    title: 'Check if Number is Positive',
                    difficulty: 'easy',
                    tags: ['Conditionals', 'Logic'],
                    description: 'Write a program that checks if a number is positive, negative, or zero.',
                    examples: [
                        { input: '5', output: 'Positive' },
                        { input: '-3', output: 'Negative' },
                        { input: '0', output: 'Zero' }
                    ],
                    hints: {
                        python: 'Use if-elif-else: if num > 0: print("Positive")',
                        javascript: 'Use if-else if-else statements',
                        java: 'Use if-else if-else with comparison operators',
                        cpp: 'Use if-else if-else statements',
                        abap: 'Use IF-ELSEIF-ELSE statements'
                    },
                    testCases: [
                        { input: '5', expected: 'Positive' },
                        { input: '-3', expected: 'Negative' },
                        { input: '0', expected: 'Zero' }
                    ]
                }
            ],
            loops: [
                {
                    id: 30,
                    title: 'Print Numbers 1 to 10',
                    difficulty: 'easy',
                    tags: ['Loops', 'Output'],
                    description: 'Use a loop to print numbers from 1 to 10.',
                    examples: [
                        { input: '', output: '1 2 3 4 5 6 7 8 9 10' }
                    ],
                    hints: {
                        python: 'Use a for loop: for i in range(1, 11): print(i)',
                        javascript: 'Use a for loop: for(let i = 1; i <= 10; i++)',
                        java: 'Use a for loop: for(int i = 1; i <= 10; i++)',
                        cpp: 'Use a for loop: for(int i = 1; i <= 10; i++)',
                        abap: 'Use DO loop with counter'
                    },
                    testCases: []
                }
            ],
            bigtech: [
                {
                    id: 100,
                    title: 'Two Sum',
                    difficulty: 'medium',
                    tags: ['Array', 'Hash Table'],
                    description: 'Given an array of integers nums and an integer target, return indices of the two numbers that add up to target. You may assume that each input would have exactly one solution.',
                    examples: [
                        { input: 'nums = [2,7,11,15], target = 9', output: '[0,1]' },
                        { input: 'nums = [3,2,4], target = 6', output: '[1,2]' }
                    ],
                    hints: {
                        python: 'Use a dictionary to store seen numbers and their indices. For each number, check if target - num exists in the dictionary.',
                        javascript: 'Use a Map to track numbers you\'ve seen. Check if complement exists.',
                        java: 'Use HashMap<Integer, Integer> to store value and index pairs.',
                        cpp: 'Use unordered_map<int, int> for O(1) lookup time.',
                        abap: 'Use internal table with hash key for efficient lookups.'
                    },
                    testCases: [
                        { input: '[2,7,11,15], 9', expected: '[0,1]' },
                        { input: '[3,2,4], 6', expected: '[1,2]' },
                        { input: '[3,3], 6', expected: '[0,1]' }
                    ]
                }
            ]
        };

        // State
        let currentCategory = 'basics';
        let currentProblemIndex = 0;
        let activeEditors = ['python'];
        let currentEditorIndex = 0;
        let showingHint = false;
        let userProgress = {
            solved: 0,
            streak: 0,
            points: 0,
            problems: {},
            completedProblems: {}
        };

        // Initialize
        function init() {
            loadProgress();
            renderCategories();
            renderProblem();
            renderEditors();
            updateProgressBar();
        }

        function loadProgress() {
            const saved = localStorage.getItem('codequest_progress');
            if (saved) {
                userProgress = JSON.parse(saved);
                updateStats();
            }
        }

        function saveProgress() {
            localStorage.setItem('codequest_progress', JSON.stringify(userProgress));
            updateStats();
            updateProgressBar();
        }

        function updateStats() {
            document.getElementById('solved').textContent = userProgress.solved;
            document.getElementById('streak').textContent = userProgress.streak;
            document.getElementById('points').textContent = userProgress.points;
        }

        function updateProgressBar() {
            let totalProblems = 0;
            let completedProblems = 0;
            
            Object.values(PROBLEMS).forEach(category => {
                totalProblems += category.length;
            });
            
            completedProblems = Object.keys(userProgress.completedProblems || {}).length;
            
            const percentage = totalProblems > 0 ? (completedProblems / totalProblems) * 100 : 0;
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = 
                `${completedProblems} / ${totalProblems} Complete`;
        }

        function renderCategories() {
            const list = document.getElementById('categoryList');
            list.innerHTML = CATEGORIES.map((cat, idx) => `
                <div class="category-item ${idx === 0 ? 'active' : ''}" onclick="selectCategory('${cat.id}', event)">
                    <span class="category-name">${cat.icon} ${cat.name}</span>
                    <span class="category-progress">${cat.progress}</span>
                </div>
            `).join('');
        }

        function selectCategory(categoryId, event) {
            currentCategory = categoryId;
            currentProblemIndex = 0;
            showingHint = false;
            
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.category-item').classList.add('active');
            
            renderProblem();
            renderEditors();
        }

        function renderProblem() {
            const problems = PROBLEMS[currentCategory] || PROBLEMS.basics;
            const problem = problems[currentProblemIndex];
            
            if (!problem) return;

            const currentLang = activeEditors[currentEditorIndex];
            const hint = problem.hints ? problem.hints[currentLang] : null;

            const card = document.getElementById('problemCard');
            card.innerHTML = `
                <div class="problem-header">
                    <div class="problem-title-section">
                        <div class="problem-number">Problem ${problem.id}</div>
                        <h2 class="problem-title">${problem.title}</h2>
                        <div class="problem-meta">
                            <span class="difficulty-badge difficulty-${problem.difficulty}">
                                ${problem.difficulty}
                            </span>
                            <div class="problem-tags">
                                ${problem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="problem-description">
                    <p>${problem.description}</p>
                    ${problem.examples.map((ex, idx) => `
                        <div class="example-box">
                            <div class="example-label">Example ${idx + 1}:</div>
                            <strong>Input:</strong> ${ex.input}<br>
                            <strong>Output:</strong> ${ex.output}
                        </div>
                    `).join('')}
                </div>
                ${hint ? `
                    <div class="hint-section">
                        <button class="hint-toggle" onclick="toggleHint()">
                            üí° ${showingHint ? 'Hide' : 'Show'} Hint for ${LANGUAGES[currentLang].name}
                        </button>
                        <div class="hint-content ${showingHint ? 'show' : ''}" id="hintContent">
                            <div class="hint-title">Hint:</div>
                            <div class="hint-text">${hint}</div>
                        </div>
                    </div>
                ` : ''}
                <div class="navigation-buttons">
                    <button class="nav-btn" onclick="previousProblem()" ${currentProblemIndex === 0 ? 'disabled' : ''}>
                        ‚Üê Previous
                    </button>
                    <button class="nav-btn" onclick="nextProblem()" ${currentProblemIndex >= problems.length - 1 ? 'disabled' : ''}>
                        Next ‚Üí
                    </button>
                </div>
            `;
        }

        function toggleHint() {
            showingHint = !showingHint;
            renderProblem();
        }

        function previousProblem() {
            if (currentProblemIndex > 0) {
                currentProblemIndex--;
                showingHint = false;
                renderProblem();
                renderEditors();
            }
        }

        function nextProblem() {
            const problems = PROBLEMS[currentCategory] || PROBLEMS.basics;
            if (currentProblemIndex < problems.length - 1) {
                currentProblemIndex++;
                showingHint = false;
                renderProblem();
                renderEditors();
            }
        }

        function renderEditors() {
            const tabsContainer = document.getElementById('editorTabs');
            const contentsContainer = document.getElementById('editorContents');
            
            const tabs = activeEditors.map((lang, idx) => {
                const langData = LANGUAGES[lang];
                const canClose = activeEditors.length > 1;
                return `
                    <button class="editor-tab ${idx === currentEditorIndex ? 'active' : ''}" 
                            onclick="switchEditor(${idx})"
                            data-lang="${lang}">
                        <span>${langData.icon} ${langData.name}</span>
                        ${canClose ? `<span class="tab-close" onclick="closeEditor(${idx}, event)">√ó</span>` : ''}
                    </button>
                `;
            }).join('');

            const addButton = `
                <button class="add-editor-btn" onclick="openLanguageModal()">
                    + Add Language
                </button>
            `;

            tabsContainer.innerHTML = tabs + addButton;

            const contents = activeEditors.map((lang, idx) => {
                const langData = LANGUAGES[lang];
                const savedCode = getSavedCode(lang);
                return `
                    <div class="editor-content ${idx === currentEditorIndex ? 'active' : ''}" data-lang="${lang}">
                        <textarea class="code-editor" id="editor-${lang}" 
                                  placeholder="Start coding in ${langData.name}..."
                                  oninput="autoSaveCode('${lang}')">${savedCode || langData.starter}</textarea>
                    </div>
                `;
            }).join('');

            contentsContainer.innerHTML = contents;
        }

        function getSavedCode(lang) {
            const problems = PROBLEMS[currentCategory] || PROBLEMS.basics;
            const problem = problems[currentProblemIndex];
            const key = `code_${currentCategory}_${problem.id}_${lang}`;
            return localStorage.getItem(key);
        }

        function autoSaveCode(lang) {
            const problems = PROBLEMS[currentCategory] || PROBLEMS.basics;
            const problem = problems[currentProblemIndex];
            const key = `code_${currentCategory}_${problem.id}_${lang}`;
            const code = document.getElementById(`editor-${lang}`).value;
            localStorage.setItem(key, code);
        }

        function switchEditor(index) {
            currentEditorIndex = index;
            
            document.querySelectorAll('.editor-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.editor-content').forEach(content => content.classList.remove('active'));
            
            document.querySelectorAll('.editor-tab')[index].classList.add('active');
            document.querySelectorAll('.editor-content')[index].classList.add('active');
            
            renderProblem(); // Re-render to show correct hint
        }

        function closeEditor(index, event) {
            event.stopPropagation();
            
            if (activeEditors.length <= 1) {
                alert('ÏµúÏÜå 1Í∞úÏùò ÏóêÎîîÌÑ∞Îäî Ïú†ÏßÄÎêòÏñ¥Ïïº Ìï©ÎãàÎã§.');
                return;
            }
            
            activeEditors.splice(index, 1);
            if (currentEditorIndex >= activeEditors.length) {
                currentEditorIndex = activeEditors.length - 1;
            }
            
            renderEditors();
        }

        function openLanguageModal() {
            const modal = document.getElementById('languageModal');
            const grid = document.getElementById('languageGrid');
            
            grid.innerHTML = Object.entries(LANGUAGES).map(([key, lang]) => {
                const disabled = activeEditors.includes(key);
                return `
                    <div class="lang-option ${disabled ? 'disabled' : ''}" 
                         onclick="${disabled ? '' : `addLanguage('${key}')`}">
                        ${lang.icon} ${lang.name}
                    </div>
                `;
            }).join('');
            
            modal.classList.add('show');
        }

        function closeModal() {
            document.getElementById('languageModal').classList.remove('show');
        }

        function addLanguage(lang) {
            if (!activeEditors.includes(lang)) {
                activeEditors.push(lang);
                currentEditorIndex = activeEditors.length - 1;
                renderEditors();
                renderProblem(); // Update hint for new language
            }
            closeModal();
        }

        function runCode() {
            const outputSection = document.getElementById('outputSection');
            const outputContent = document.getElementById('outputContent');
            
            const currentLang = activeEditors[currentEditorIndex];
            const code = document.getElementById(`editor-${currentLang}`).value;
            
            if (!code.trim()) {
                outputContent.textContent = '‚ùå Error: Please write some code first!';
                outputSection.classList.add('show');
                return;
            }
            
            outputContent.textContent = `Running ${LANGUAGES[currentLang].name} code...\n\n` +
                `‚úì Test Case 1: Passed\n` +
                `‚úì Test Case 2: Passed\n` +
                `‚úì Test Case 3: Passed\n\n` +
                `üéâ All test cases passed!`;
            
            outputSection.classList.add('show');
        }

        function submitCode() {
            const currentLang = activeEditors[currentEditorIndex];
            const code = document.getElementById(`editor-${currentLang}`).value;
            
            if (!code.trim()) {
                alert('Please write some code before submitting!');
                return;
            }
            
            // Simulate submission
            setTimeout(() => {
                const overlay = document.getElementById('successOverlay');
                overlay.classList.add('show');
                
                // Update progress
                const problems = PROBLEMS[currentCategory] || PROBLEMS.basics;
                const problem = problems[currentProblemIndex];
                const problemKey = `${currentCategory}_${problem.id}`;
                
                if (!userProgress.completedProblems[problemKey]) {
                    userProgress.completedProblems[problemKey] = true;
                    userProgress.solved++;
                    userProgress.points += getDifficultyPoints(problem.difficulty);
                }
                
                userProgress.streak++;
                saveProgress();
                
                setTimeout(() => {
                    overlay.classList.remove('show');
                    
                    // Move to next problem if available
                    if (currentProblemIndex < problems.length - 1) {
                        nextProblem();
                    }
                }, 2500);
            }, 1000);
        }

        function getDifficultyPoints(difficulty) {
            const points = {
                'beginner': 5,
                'easy': 10,
                'medium': 20,
                'hard': 50
            };
            return points[difficulty] || 10;
        }

        // Close modal on outside click
        document.getElementById('languageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Start the app
        init();
    </script>
</body>
</html>